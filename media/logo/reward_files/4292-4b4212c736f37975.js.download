"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4292],{14292:function(e,a,l){l.d(a,{Z:function(){return v}});var s=l(82729),r=l(85893),t=l(17283),n=l(73359),i=l(47533),o=l(78945),d=l(93791),c=l(11163),m=l(67294),u=l(87536),p=l(74231);l(3509);var h=l(66642),x=l(40368),f=l(79274),N=l(51448),j=l(68288);function b(){let e=(0,s._)(['\n    query Properties {\n        properties(\n            orderBy: { name: asc }\n            where: {\n                residentialType: { equals: "Residential" }\n                showProperty: { equals: true }\n            }\n        ) {\n            id\n            name\n            slug\n            residentialType\n            proj_code\n            add_code\n            city {\n                name\n            }\n        }\n    }\n']);return b=function(){return e},e}let y=(0,t.Ps)(b());var v=(0,m.forwardRef)((e,a)=>{var l,s,t,b,v,g;let{onClose:w,item:C}=e,[k,E]=(0,m.useState)({firstName:"",lastName:"",email:"",phone:"",city:"",country:"",propertyType:"",property:{id:"",name:"",city:"",url:"",projCode:"",addCode:""}}),[q,_]=(0,m.useState)(!1),[S,F]=(0,m.useState)("IN"),[Z,L]=(0,m.useState)("IN"),[P,T]=(0,m.useState)(!1),[I,V]=(0,m.useState)(91),R=(0,c.useRouter)(),[M,Y]=(0,m.useState)(!0),B=d.PhoneNumberUtil.getInstance();p.kM(p.Z_,"phone",function(e){return this.test("phone",e,function(a){let{path:l,createError:s}=this;return B.isValidNumber(B.parse(a,Z))||s({path:l,message:e||"Enter a valid phone number for ".concat(Z)})})});let G=p.Ry({phone:p.Z_().phone().min(11,"Enter A Valid Number"),email:p.Z_().email("Enter Valid Email").required({message:"Email is required"}),firstName:p.Z_().required({message:"First name is required"}),lastName:p.Z_().required({message:"Last name is required"}),city:e.isLandingPage?p.Z_():p.Z_().required({message:"City is required"})}),{control:Q,formState:{errors:A},getValues:D,register:H,handleSubmit:J}=(0,u.cI)({resolver:(0,i.X)(G)}),[O]=(0,n.t)(y,{onCompleted:e=>{X(e.properties.slice().sort((e,a)=>e.city.name<a.city.name?-1:e.city.name>a.city.name?1:0))}}),[U,X]=(0,m.useState)([]),[z,K]=(0,m.useState)(!1);(0,m.useEffect)(()=>{L(e=>S)},[S]),(0,m.useEffect)(()=>{let e=e=>{"Escape"===e.key&&w(e)};return window.addEventListener("keyup",e),()=>window.removeEventListener("keyup",e)},[w]),(0,m.useEffect)(()=>{O()},[]);let W=e=>{E(a=>({...a,country:e}))};(0,m.useEffect)(()=>{C&&E(e=>({...e,propertyType:C.residentialType,property:{id:C.id,name:C.name,city:C.city.name,projCode:C.proj_code,addCode:C.add_code,url:location.href}}))},[]),(0,m.useEffect)(()=>{let e=document.querySelector(" .schedule-content .countryCode");e&&e.remove();let a=document.querySelector(".schedule-content .PhoneInputCountry"),l=document.createElement("div");l.className="countryCode",l.innerHTML="".concat(j.Z[Z]?j.Z[Z]:"0"),(null==a?void 0:a.parentNode)&&(null==a||a.parentNode.insertBefore(l,a.nextSibling))},[Z]);let $=async()=>{T(!0);let e=null===h.o||void 0===h.o?void 0:h.o.filter(e=>S===(null==e?void 0:e.value));try{var a;let l=await o.Z.get("/api/token"),s=await o.Z.post("/api/enquiry",{formData:{...k,...D(),optIn:M?"Yes":"No",country:null==e?void 0:null===(a=e[0])||void 0===a?void 0:a.title,dateTime:"2015-07-07T11:11:11"},token:l.data});s&&s.data&&s.data[0].Id?(T(!1),K(!0)):T(!1)}catch(e){}};return(0,m.useEffect)(()=>{if(z){let e=JSON.stringify(k),a=D().firstName,l=D().lastName;R.push({pathname:"/success-page",query:{data:e,firstName:a,lastName:l,modal:"Modal"}})}},[z]),(0,r.jsx)("div",{id:R.asPath.includes("property")?"property-listing-enquire-form":R.asPath.includes("residential")?"property-details-enquire-form":"home-enquire-now-form",className:"modal modal-enquire flex items-center justify-center",children:(0,r.jsx)("div",{className:"modal-content schedule-content relative p-8",ref:a,children:P?(0,r.jsx)("div",{className:"loading-div",children:(0,r.jsx)("div",{className:"text-success inline-block h-20 w-20 animate-spin rounded-full border-4 border-solid border-green-500 border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]",role:"status",children:(0,r.jsx)("span",{className:"!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]",children:"Loading..."})})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"close",onClick:e=>{w(e)},children:(0,r.jsx)("img",{src:"/images/modal-close.png",alt:"close"})}),!z&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h4",{className:"text-center uppercase",children:"Enquire Now"}),(0,r.jsxs)("div",{className:"content-area mx-auto flex flex-col",children:[(0,r.jsx)("span",{className:"form-span mt-12 block",children:"Fill in the following details and we will get back to you shortly."}),e.isLandingPage?(0,r.jsxs)("form",{className:"flex flex-col",onSubmit:J($),children:[(0,r.jsxs)("div",{className:"form-row flex flex-wrap justify-between",children:[(0,r.jsxs)("label",{className:"placeholder-label mt-9",htmlFor:"",children:[(0,r.jsx)("input",{className:"".concat(A.firstName&&"border-b-red-500"),placeholder:"First Name",...H("firstName")}),A&&A.firstName&&(0,r.jsx)("p",{role:"alert",className:"text-red-500",children:null==A?void 0:null===(s=A.firstName)||void 0===s?void 0:null===(l=s.message)||void 0===l?void 0:l.message})]}),(0,r.jsxs)("label",{className:"placeholder-label mt-9",htmlFor:"",children:[(0,r.jsx)("input",{className:"".concat(A.lastName&&"border-b-red-500"),placeholder:"Last Name",...H("lastName")}),A.lastName&&(0,r.jsx)("p",{role:"alert",className:"text-red-500",children:A.lastName.message.message})]})]}),(0,r.jsxs)("div",{className:"form-row flex flex-wrap justify-between",children:[(0,r.jsxs)("label",{className:"placeholder-label mt-9",htmlFor:"",children:[(0,r.jsx)("input",{className:"".concat(A.email&&"border-b-red-500"),placeholder:"Email",...H("email")}),A.email&&(0,r.jsx)("p",{role:"alert",className:"text-red-500",children:A.email.message.message||A.email.message})]}),(0,r.jsxs)("label",{className:"mt-9",htmlFor:"",children:[(0,r.jsx)(u.Qr,{name:"phone",control:Q,defaultValue:"",rules:{minLength:11},render:e=>{var a;let{field:l}=e;return(0,r.jsx)(N.Z,{...l,value:l.value,errors:!!A.phone,country:Z,onCountryChange:e=>{L(e)},isError:!!(null===(a=A.phone)||void 0===a?void 0:a.message)})}}),(null==A?void 0:A.phone)&&(0,r.jsx)("p",{role:"alert",className:"text-red-500",children:null==A?void 0:null===(t=A.phone)||void 0===t?void 0:t.message})]})]}),(0,r.jsxs)("label",{htmlFor:"subscribe",className:"checkbox-default mt-4 flex md:mt-8",children:[(0,r.jsx)("input",{type:"checkbox",onChange:()=>Y(!M),checked:!!M,className:"",name:"status",id:"subscribe"}),(0,r.jsx)("span",{children:"Yes, I would like to receive updates & promotions from Godrej Properties Limited."})]}),(0,r.jsx)(f.Z,{type:"submit",children:"Submit"})]}):(0,r.jsxs)("form",{className:"flex flex-col",onSubmit:J($),children:[(0,r.jsxs)("div",{className:"form-row flex flex-wrap justify-between",children:[(0,r.jsxs)("label",{className:"placeholder-label mt-9",htmlFor:"",children:[(0,r.jsx)("input",{className:"".concat(A.firstName&&"border-b-red-500"),placeholder:"First Name",...H("firstName")}),A&&A.firstName&&(0,r.jsx)("p",{role:"alert",className:"text-red-500",children:null==A?void 0:null===(v=A.firstName)||void 0===v?void 0:null===(b=v.message)||void 0===b?void 0:b.message})]}),(0,r.jsxs)("label",{className:"placeholder-label mt-9",htmlFor:"",children:[(0,r.jsx)("input",{className:"".concat(A.lastName&&"border-b-red-500"),placeholder:"Last Name",...H("lastName")}),A.lastName&&(0,r.jsx)("p",{role:"alert",className:"text-red-500",children:A.lastName.message.message})]})]}),(0,r.jsxs)("div",{className:"form-row flex flex-wrap justify-between",children:[(0,r.jsxs)("label",{className:"placeholder-label mt-9",htmlFor:"",children:[(0,r.jsx)("input",{className:"".concat(A.email&&"border-b-red-500"),placeholder:"Email",...H("email")}),A.email&&(0,r.jsx)("p",{role:"alert",className:"text-red-500",children:A.email.message.message||A.email.message})]}),(0,r.jsx)("label",{className:"mt-9",htmlFor:"",children:(0,r.jsx)(x.Z,{id:"countries",open:q,onToggle:()=>_(!q),onChange:e=>{F(e),W(e)},selectedValue:h.o.find(e=>e.value===S)})})]}),(0,r.jsxs)("div",{className:"form-row flex flex-wrap justify-between",children:[(0,r.jsxs)("label",{className:"mt-9",htmlFor:"",children:[(0,r.jsx)("input",{className:"".concat(A.city&&"border-b-red-500"),placeholder:"City",...H("city")}),A.city&&(0,r.jsx)("p",{className:"text-red-500",role:"alert",children:"City is required"})]}),(0,r.jsxs)("label",{className:"mt-9",htmlFor:"",children:[(0,r.jsx)(u.Qr,{name:"phone",control:Q,defaultValue:"",rules:{minLength:11},render:e=>{var a;let{field:l}=e;return(0,r.jsx)(N.Z,{...l,value:l.value,errors:!!A.phone,country:Z,onCountryChange:e=>{L(e)},isError:!!(null===(a=A.phone)||void 0===a?void 0:a.message)})}}),(null==A?void 0:A.phone)&&(0,r.jsx)("p",{role:"alert",className:"text-red-500",children:null==A?void 0:null===(g=A.phone)||void 0===g?void 0:g.message})]})]}),(0,r.jsx)("div",{className:"form-row flex flex-wrap items-end justify-between",children:(0,r.jsx)("label",{className:"mt-9",htmlFor:"",children:(0,r.jsxs)("select",{name:"",id:"",className:"form-select",onChange:e=>{let a=U.find(a=>a.id===e.target.value);E({...k,property:{id:a.id,name:a.name,url:"".concat(location.href,"property/").concat(a.residentialType.toLowerCase(),"/").concat(a.slug),city:a.city.name,addCode:a.add_code,projCode:a.proj_code}})},children:[!C&&(0,r.jsx)("option",{value:"1",children:"Select Project"}),C?(0,r.jsxs)("option",{value:C.id,children:[C.name,","," ",C.city.name]}):U.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.name,","," ",e.city.name]},e.id))]})})}),(0,r.jsxs)("label",{htmlFor:"subscribe",className:"checkbox-default mt-4 flex md:mt-8",children:[(0,r.jsx)("input",{type:"checkbox",onChange:()=>Y(!M),checked:!!M,className:"",name:"status",id:"subscribe"}),(0,r.jsx)("span",{children:"Yes, I would like to receive updates & promotions from Godrej Properties Limited."})]}),(0,r.jsx)(f.Z,{type:"submit",children:"Submit"})]})]})]})," "]})})})})}}]);