"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8601],{58601:function(e,t,l){l.d(t,{Z:function(){return x}});var n=l(85893),a=l(47533),s=l(78945),r=l(93791),o=l(11163),i=l(67294),c=l(87536),d=l(74231);l(3509);var m=l(66642),u=l(40368),h=l(79274),p=l(51448),f=l(68288),x=(0,i.forwardRef)((e,t)=>{var l;let{onClose:x,emiCalulator:b}=e,[v,j]=(0,i.useState)(!1),[y,N]=(0,i.useState)(!1),[g,w]=(0,i.useState)("IN"),[k,E]=(0,i.useState)("IN"),[C,S]=(0,i.useState)(!0),[Z,_]=(0,i.useState)({name:"",phone:"",email:"",city:"",country:""}),F=(0,o.useRouter)();(0,i.useEffect)(()=>{E(e=>g)},[g]);let I=e=>{_({...Z,[e.target.name]:e.target.value})},L=r.PhoneNumberUtil.getInstance();d.kM(d.Z_,"phone",function(e){return this.test("phone",e,function(t){let{path:l,createError:n}=this;return L.isValidNumber(L.parse(t,k))||n({path:l,message:e||"Enter a valid phone number for ".concat(k)})})});let T=d.Ry({phone:d.Z_().phone().min(11,"Enter A Valid Number")}),{control:P,formState:{errors:V},getValues:q,register:R,handleSubmit:B}=(0,c.cI)({resolver:(0,a.X)(T)});(0,i.useEffect)(()=>{_({...Z,country:g})},[g,Z]),(0,i.useEffect)(()=>{let e=e=>{"Escape"===e.key&&x(e)};return window.addEventListener("keyup",e),()=>window.removeEventListener("keyup",e)},[x]),(0,i.useEffect)(()=>{let e=document.querySelector(".schedule-content .countryCode");e&&e.remove();let t=document.querySelector(".schedule-content .PhoneInputCountry"),l=document.createElement("div");l.className="countryCode",l.innerHTML="".concat(f.Z[k]?f.Z[k]:"0"),(null==t?void 0:t.parentNode)&&(null==t||t.parentNode.insertBefore(l,t.nextSibling))},[k]);let G=async e=>{j(!0);try{let e=await s.Z.get("/api/token"),t=await s.Z.post("/api/enquiry",{formData:{firstName:Z.name.split(" ")[0],lastName:Z.name.split(" ")[1],email:Z.email,phone:Z.phone,city:Z.city,country:Z.country,optIn:C?"Yes":"No",dateTime:"2015-07-07T11:11:11",getInTouch:!0,property:{url:location.href},...q()},token:e.data});200===t.status&&(j(!1),window.location.href="/".concat(b?"getintouchEmi-success":"getintouch-success"))}catch(e){}};return(0,n.jsx)("div",{id:F.asPath.includes("residential")?"property-get-in-touch":"home-get-in-touch",className:"modal modal-get-in-touch flex items-center justify-center",children:(0,n.jsx)("div",{className:"modal-content schedule-content relative p-8",ref:t,children:v?(0,n.jsx)("div",{className:"loading-div w-full",children:(0,n.jsx)("div",{className:"text-success inline-block h-20 w-20 animate-spin rounded-full border-4 border-solid border-green-500 border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]",role:"status",children:(0,n.jsx)("span",{className:"!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]",children:"Loading..."})})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"close",onClick:e=>{x(e)},children:(0,n.jsx)("img",{src:"/images/modal-close.png",alt:"close"})}),(0,n.jsxs)("h4",{className:"text-center uppercase",children:["Get in touch ",b&&"for Best Offers"]}),(0,n.jsxs)("div",{className:"content-area mx-auto flex flex-col",children:[(0,n.jsx)("span",{className:"mt-2 block md:mt-12",children:"Fill in the following details and we will get back to you shortly."}),(0,n.jsxs)("form",{className:"flex flex-col",onSubmit:B(G),children:[(0,n.jsxs)("div",{className:"form-row flex flex-wrap justify-between",children:[(0,n.jsx)("label",{className:"placeholder-label mt-2 md:mt-9",htmlFor:"",children:(0,n.jsx)("input",{name:"name",type:"text",value:Z.name,onChange:I,placeholder:"Name*"})}),(0,n.jsx)("label",{className:"placeholder-label mt-2 md:mt-9",htmlFor:"",children:(0,n.jsx)("input",{name:"email",type:"text",value:Z.email,onChange:I,placeholder:"Email*"})})]}),(0,n.jsxs)("div",{className:"form-row flex flex-wrap justify-between",children:[(0,n.jsx)("label",{className:"placeholder-label mt-2 md:mt-9",htmlFor:"",children:(0,n.jsx)(u.Z,{id:"countries",open:y,onToggle:()=>N(!y),onChange:e=>{w(e)},selectedValue:m.o.find(e=>e.value===g)})}),(0,n.jsx)("label",{className:"placeholder-label mt-2 md:mt-9",htmlFor:"",children:(0,n.jsx)("input",{name:"city",type:"text",value:Z.city,onChange:I,placeholder:"City*"})})]}),(0,n.jsx)("div",{className:"form-row flex flex-wrap justify-between",children:(0,n.jsxs)("label",{className:"placeholder-label mt-2 md:mt-9",htmlFor:"",children:[(0,n.jsx)(c.Qr,{name:"phone",control:P,defaultValue:"",rules:{minLength:11},render:e=>{var t;let{field:l}=e;return(0,n.jsx)(p.Z,{...l,value:l.value,errors:!!V.phone,country:k,onCountryChange:e=>{E(e)},isError:!!(null===(t=V.phone)||void 0===t?void 0:t.message)})}}),(null==V?void 0:V.phone)&&(0,n.jsx)("p",{role:"alert",className:"text-red-500",children:null==V?void 0:null===(l=V.phone)||void 0===l?void 0:l.message})]})}),(0,n.jsxs)("label",{htmlFor:"subscribe",className:"checkbox-default mt-4 flex md:mt-8",children:[(0,n.jsx)("input",{type:"checkbox",onChange:()=>S(!C),checked:!!C,className:"",name:"status",id:"subscribe"}),(0,n.jsx)("span",{children:"Yes, I would like to receive updates & promotions from Godrej Properties Limited."})]}),(0,n.jsx)(h.Z,{children:"Submit"})]})]})]})})})})}}]);